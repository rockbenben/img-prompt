(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{6506:function(e,t,a){Promise.resolve().then(a.bind(a,5835))},5835:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return z}});var l=a(7437),r=a(2265),n=a(9137),i=a(5462),s=a(9185),o=a(1628),c=a(8472),d=[],u=a(2548),m=e=>{let{objects:t=[],activeObject:a,onObjectClick:n}=e,i=(0,r.useCallback)(e=>{n(e)},[n]);return(0,l.jsx)("div",{className:"flex flex-wrap",children:t.map(e=>(0,l.jsx)(u.ZP,{onClick:()=>i(e),className:"m-1 px-3 py-1 text-sm font-medium leading-5 transition-colors duration-150 rounded-lg focus:outline-none border ".concat(a===e?"bg-teal-500 text-white border-teal-500":""),children:e},e))})},p=e=>{let{attributes:t=[],selectedAttribute:a,onAttributeClick:n}=e,i=(0,r.useCallback)(e=>{n(e)},[n]);return(0,l.jsx)("div",{className:"flex flex-wrap",children:t.map(e=>(0,l.jsx)(u.ZP,{onClick:()=>i(e),className:"m-1 px-3 py-1 text-sm font-medium leading-5 transition-colors duration-150 rounded-lg focus:outline-none border ".concat(e===a?"bg-indigo-500 text-white border-indigo-500":""),children:e},e))})};let g=e=>null==e?"":e.toLowerCase().replace(/[\s_-]+/g," "),{Text:h}=n.default,y=[{dark:"bg-gray-700",light:"bg-gray-600"},{dark:"bg-blue-900",light:"bg-blue-800"},{dark:"bg-green-900",light:"bg-green-800"},{dark:"bg-pink-900",light:"bg-pink-800"},{dark:"bg-cyan-900",light:"bg-cyan-800"},{dark:"bg-purple-900",light:"bg-purple-800"},{dark:"bg-yellow-900",light:"bg-yellow-800"},{dark:"bg-indigo-900",light:"bg-indigo-800"}];var b=e=>{let{tags:t=[],selectedTags:a,onTagClick:n}=e,i=(0,r.useCallback)(e=>{n(e)},[n]),s=(0,r.useMemo)(()=>{let e=[];for(let r=0;r<t.length;r+=10){let n=t.slice(r,r+10),s=Math.floor(r/10)%y.length,{dark:o,light:c}=y[s],d=(0,l.jsx)("div",{className:"flex flex-wrap",children:n.map(e=>{let t=a.some(t=>t.displayName===e.displayName),r=e.displayName.length>20?"".concat(e.displayName.slice(0,20),"..."):e.displayName,n=g(e.langName)!==g(e.displayName)?e.langName:"";return(0,l.jsxs)("div",{className:"inline-block m-2 rounded cursor-pointer shadow transition-all duration-150 ease-in-out transform hover:scale-105 hover:shadow-lg ".concat(t?"opacity-50":""),onClick:()=>i(e),style:{transition:"background-color 0.3s"},children:[(0,l.jsx)(h,{className:"".concat(o," text-white px-2 py-1 rounded-l"),children:r}),(0,l.jsx)(h,{className:"".concat(c," text-white px-2 py-1 rounded-r"),children:n})]},"".concat(e.object,"-").concat(e.attribute,"-").concat(e.displayName))})},"row-".concat(r));e.push(d)}return e},[t,a,i]);return(0,l.jsx)(l.Fragment,{children:s})},x=a(8961),f=a(6631),j=a(5922);let{Text:k}=n.default;var N=e=>{let{selectedTags:t=[],onTagClick:a}=e,{theme:n}=(0,j.F)(),i=(0,r.useMemo)(()=>t.reduce((e,t)=>(e[t.object]||(e[t.object]={}),e[t.object][t.attribute]||(e[t.object][t.attribute]=[]),e[t.object][t.attribute].push(t),e),{}),[t]);return 0===t.length?null:(0,l.jsx)("div",{className:"p-3 rounded-lg ".concat("light"===n?"bg-gray-50":"bg-gray-800"),children:Object.entries(i).map(e=>{let[t,r]=e;return(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)(k,{strong:!0,className:"mb-2 text-gray-400",children:t}),Object.entries(r).map(e=>{let[r,n]=e;return(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsxs)(k,{type:"secondary",className:"mr-2 text-gray-400",children:[r,":"]}),(0,l.jsx)(x.Z,{size:[8,8],wrap:!0,children:n.map(e=>{let t=e.displayName.length>20?"".concat(e.displayName.slice(0,20),"..."):e.displayName,r=g(e.langName)!==g(e.displayName)?e.langName:"";return(0,l.jsx)(f.Z,{color:"blue",onClick:()=>a(e),className:"flex items-center cursor-pointer hover:opacity-80 transition-opacity",style:{display:"inline-flex",alignItems:"center"},children:(0,l.jsxs)(x.Z,{size:4,align:"center",children:[(0,l.jsx)("span",{className:"font-medium",children:t}),(0,l.jsx)(k,{type:"secondary",className:"text-xs",children:r})]})},e.displayName)})})]},"".concat(t,"-").concat(r))})]},t)})})},w=a(8355),v=a(9920),C=a(868),Z=a(3669),S=a(8706);let T=[{text:"Natural Lighting, Studio lighting, Cinematic Lighting, Crepuscular Rays, X-Ray, Backlight",type:"primary",tooltipKey:"tooltip-light",promptKey:"prompt-light"},{text:"insanely detailed and intricate, masterpiece, high_contrast, best quality, best aesthetic, stunning, Gorgeous, Surrealistic, Elegant, luxurious, subtle, delicate, captivating, in a symbolic and meaningful style, 8K",type:"primary",tooltipKey:"tooltip-polish",promptKey:"prompt-polish"}],E=["white","black","darkgray","gray","lightslategray","slategray","darkslategray","lightgray","gainsboro","whitesmoke","snow","ghostwhite","floralwhite","linen","antiquewhite","oldlace","ivory","seashell","mintcream","honeydew","azure","aliceblue","lavender","lightsteelblue","slateblue","mediumslateblue","lightblue","powderblue","skyblue","cornflowerblue","royalblue","mediumblue","blue","darkblue","navy","midnightblue","teal","darkcyan","cadetblue","mediumturquoise","darkturquoise","turquoise","paleturquoise","aquamarine","lightcyan","cyan","dodgerblue","darkgreen","green","forestgreen","seagreen","mediumseagreen","mediumaquamarine","darkseagreen","lightseagreen","springgreen","mediumspringgreen","lightgreen","palegreen","lime","limegreen","lawngreen","chartreuse","greenyellow","yellowgreen","darkolivegreen","olivedrab","olive","darkkhaki","khaki","palegoldenrod","lightyellow","lightgoldenrodyellow","lemonchiffon","beige","cornsilk","wheat","burlywood","gold","yellow","darkorange","orange","sandybrown","peachpuff","papayawhip","blanchedalmond","bisque","moccasin","navajowhite","peru","darkgoldenrod","goldenrod","chocolate","saddlebrown","sienna","rosybrown","darksalmon","salmon","lightsalmon","indianred","firebrick","brown","maroon","darkred","red","orangered","tomato","crimson","coral","lightpink","pink","hotpink","deeppink","palevioletred","mediumvioletred","lavenderblush","lightcoral","plum","mediumorchid","violet","magenta","fuchsia","darkmagenta","purple","darkorchid","darkviolet","blueviolet","mediumpurple","indigo","light_brown","dark_pink","blonde","silver","mistyrose","steelblue","thistle","darkslateblue","Iridescent","Chromatic"],P=async(e,t,a)=>{let l=e.trim();if(!RegExp("[a-zA-Z\\p{L}]","u").test(l))return l;let r="https://translate.googleapis.com/translate_a/single?client=gtx&sl=".concat(t,"&tl=").concat(a,"&dt=t&q=").concat(encodeURIComponent(l)),n=await fetch(r);if(!n.ok)throw Error("HTTP error! status: ".concat(n.status));return(await n.json())[0].map(e=>e[0]).join("")},_=()=>{let e=(0,S.T_)("CopyToClipboard");return{copyToClipboard:async(t,a,l)=>{var r;if(!t||""===t.trim()){let t=l?"".concat(l).concat(e("empty")):e("empty");null==a||a.warning(t);return}if(!(null===(r=navigator)||void 0===r?void 0:r.clipboard)){null==a||a.error(e("unsupported"));return}try{await navigator.clipboard.writeText(t);let r=l?"".concat(l).concat(e("success")):e("success");null==a||a.success(r)}catch(r){console.error("Copy to clipboard failed: ",r);let t=l?"".concat(l).concat(e("failure")):e("failure");null==a||a.error(t)}}}},{Paragraph:q,Text:M}=n.default,R=()=>E[Math.floor(Math.random()*E.length)];var A=e=>{let{selectedTags:t=[],setSelectedTags:a,tagsData:n}=e,[i,s]=w.ZP.useMessage(),{copyToClipboard:c}=_(),d=(0,S.T_)("ResultSection"),[m,p]=(0,r.useState)(""),[h,y]=(0,r.useState)([]),[b,k]=(0,r.useState)(null),[N,A]=(0,r.useState)(""),[F,O]=(0,r.useState)(!1),{theme:K}=(0,j.F)(),z=(0,r.useMemo)(()=>{let e=new Map(n.map(e=>[g(e.displayName||""),e]));return t=>{let a=g(t),l=e.get(a);if(!l){let t=a.replace(/ /g,"_");l=e.get(t)}return l||{object:void 0,attribute:void 0,langName:void 0,displayName:void 0}}},[n]),B=(0,r.useCallback)(e=>{let t=e.target.value;if(t.endsWith(",")||t.endsWith("，")){p(t=t.slice(0,-1).replace(/,\s*$/g,"")+", ");return}p(t),a(t.split(", ").filter(e=>null==e?void 0:e.trim()).map(e=>({...z(e),displayName:e})))},[z,a]),I=(0,r.useCallback)(()=>{let e=Array.from(new Set(m.replace(/，/g,", ").replace(/\s+,\s*/g,", ").replace(/\s+/g," ").split(", ").filter(e=>""!==e.trim()).map(e=>g(e)))).map(e=>{let{object:t,attribute:a,langName:l,displayName:r}=z(e);return{object:t,displayName:r||e,attribute:a,langName:l}});a(e),p(e.map(e=>e.displayName).join(", ")),O(!1)},[m,z,a]),L=e=>{let l=[...t];l.length>0?l[l.length-1]=e:l.push(e),a(l),p(l.map(e=>e.displayName).join(", "))};(0,r.useEffect)(()=>{!F&&t.length>0?p(t.map(e=>e.displayName).filter(Boolean).join(", ")):0===t.length&&p("")},[t,F]),(0,r.useEffect)(()=>{var e;let t=g((null===(e=m.split(", ").pop())||void 0===e?void 0:e.trim())||"");if(!t){y([]),k(null);return}b&&k(null);let a=e=>n.filter(a=>{let l=g(a[e]||"");return l===t?(k(a),!1):l.includes(t)}).sort((a,l)=>{let r=g(a[e]||""),n=g(l[e]||""),i=r.startsWith(t);return i!==n.startsWith(t)?i?-1:1:r.localeCompare(n)}),l=a("displayName");0===l.length&&(l=a("langName")),y(l.slice(0,10))},[m,n]);let W=(0,r.useCallback)((e,t)=>{let l=Array.from(new Set((m?m+", "+e:e).split(", ").filter(Boolean)));a(l.map(e=>{let{object:t,attribute:a,langName:l,displayName:r}=z(e);return{object:t,displayName:r||e,attribute:a,langName:l}})),p(l.join(", ")),i.success(d(t))},[m,z,a,d]),D=(0,r.useCallback)(()=>{a([]),p(""),i.open({type:"success",content:d("clearSuccess")})},[a,d]),G=async()=>{try{let e=await P(N,"auto","en");e.trim()?(W(e,"translateSuccess"),A("")):i.open({type:"error",content:d("translateEmptyError")})}catch(e){i.open({type:"error",content:d("translateFailError")})}};return(0,l.jsxs)(l.Fragment,{children:[s,(0,l.jsxs)(x.Z,{wrap:!0,children:[T.map(e=>{let{text:t,type:a,tooltipKey:r,promptKey:n}=e;return(0,l.jsx)(o.Z,{title:d(r),children:(0,l.jsx)(u.ZP,{type:a,onClick:()=>W(t,"insertSuccess"),children:d(n)})},r)}),(0,l.jsx)(o.Z,{title:d("tooltip-negative"),children:(0,l.jsx)(u.ZP,{type:"dashed",onClick:()=>c("(normal aesthetic,bad aesthetic,worst quality,low quality,medium quality,illustration,3d,2d,painting,cartoons,sketch:1.4),(blurry:1.4),(depth of field,bokeh,blurred foreground),ugly,bad anatomy,poorly drawn face,poorly drawn hands,deformed,mutation,mutated hands,malformed limbs,extra fingers,extra arms,extra legs,extra limbs,missing fingers,fused fingers,missing arms,missing legs,bad proportions,extra digit,extra foot,bad body,bad feet,duplicate,long neck,tilted head,cross-eyed,looking away,facing away,gross proportions,fewer digits,morbid,mutilated,skin blemishes,skin spots,acnes,(fat:1.2),dehydrated,monochrome,grayscale,polar lowres,lowres,jpeg artifacts,cropped,teethcropped,text,error,signature,watermark,username,out of frame",i,d("prompt-negative")),children:d("prompt-negative")})}),(0,l.jsx)(u.ZP,{onClick:()=>c(m,i,d("prompt")),children:d("button-copy")}),(0,l.jsx)(u.ZP,{danger:!0,onClick:D,children:d("button-clear")})]}),(0,l.jsx)(v.Z.TextArea,{value:m,count:{show:!0,max:380},onChange:B,onBlur:I,onCompositionStart:()=>O(!0),onCompositionEnd:()=>O(!1),rows:10,className:"w-full mt-2 mb-5 ".concat("light"===K?"bg-gray-50 text-gray-600":"bg-gray-800 text-gray-300")}),(0,l.jsxs)(C.Z,{gap:"4px 0",wrap:!0,children:[b&&(0,l.jsxs)(f.Z,{icon:(0,l.jsx)(Z.Z,{}),color:"success",style:{pointerEvents:"none"},children:[(0,l.jsx)(M,{ellipsis:{tooltip:b.displayName},className:"max-w-[200px] truncate",children:b.displayName}),(0,l.jsxs)(M,{type:"secondary",className:"ml-1",children:[b.langName," "]})]}),h.map((e,t)=>{let a=g(e.langName)!==g(e.displayName)?e.langName:"";return(0,l.jsxs)(f.Z,{color:"processing",className:"cursor-pointer",onClick:()=>L(e),children:[(0,l.jsx)(M,{ellipsis:{tooltip:e.displayName},className:"max-w-[200px] truncate",children:e.displayName}),(0,l.jsx)(M,{type:"secondary",className:"ml-1",children:a})]},t)})]}),(0,l.jsx)(o.Z,{title:d("tooltip-translate"),children:(0,l.jsxs)(x.Z.Compact,{className:"w-full mt-2",children:[(0,l.jsx)(v.Z,{value:N,onChange:e=>A(e.target.value),onPressEnter:G,placeholder:d("tooltip-translate")}),(0,l.jsx)(u.ZP,{type:"primary",onClick:G,children:d("button-translate")})]})}),(0,l.jsx)(q,{type:"secondary",className:"mt-2",children:d("title-other")}),(0,l.jsx)(o.Z,{title:d("tooltip-randomColor"),children:(0,l.jsx)(u.ZP,{onClick:()=>{let e=m,t=RegExp("\\b(".concat(E.join("|"),")\\b"),"gi"),a=e.match(t);a&&a.length>0?(p(e=e.replace(t,e=>{let t=R();return console.log("Replacing ".concat(e," with ").concat(t)),t})),i.open({type:"success",content:"Successfully replaced ".concat(a.length," color matches.")})):i.open({type:"info",content:"No color matches found to replace."})},children:d("button-randomcolor")})})]})};let{Title:F}=n.default,O=e=>Array.from(new Set(e.map(e=>e.object))),K=(e,t)=>Array.from(new Set(t.filter(t=>t.object===e).map(e=>e.attribute)));var z=()=>{let e=(0,r.useContext)(c.R),t=(0,S.T_)("ToolPage"),a=(0,r.useMemo)(()=>[...e,...d],[e]),n=(0,r.useMemo)(()=>O(a),[]),[u,g]=(0,r.useState)(n[0]),[h,y]=(0,r.useState)([]),x=(0,r.useMemo)(()=>K(u,a),[u]);(0,r.useEffect)(()=>{x.length>0&&j(x[0])},[x]);let[f,j]=(0,r.useState)(x[0]),k=(0,r.useCallback)(e=>{g(e)},[]),w=(0,r.useCallback)(e=>{j(e)},[]),v=(0,r.useCallback)(e=>{y(t=>t.some(t=>t.displayName===e.displayName)?t.filter(t=>t.displayName!==e.displayName):[...t,e])},[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(F,{level:2,className:"flex justify-center items-center",children:"IMGPrompt"}),(0,l.jsxs)(i.Z,{gutter:[16,16],children:[(0,l.jsxs)(s.Z,{xs:24,lg:18,children:[(0,l.jsx)(F,{level:5,className:"m-2",children:(0,l.jsxs)(o.Z,{title:t("hierarchyTip"),children:["1️⃣",t("section1")]})}),(0,l.jsx)(m,{objects:n,activeObject:u,onObjectClick:k}),(0,l.jsx)(F,{level:5,className:"m-2",children:(0,l.jsxs)(o.Z,{title:t("hierarchyTip"),children:["2️⃣",t("section2")]})}),(0,l.jsx)(p,{attributes:x,selectedAttribute:f,onAttributeClick:w}),(0,l.jsx)(F,{level:5,className:"m-2",children:(0,l.jsxs)(o.Z,{title:t("hierarchyTip"),children:["3️⃣",t("section3")]})}),(0,l.jsx)(b,{tags:a.filter(e=>e.object===u&&e.attribute===f),selectedTags:h,onTagClick:v}),(0,l.jsxs)(F,{level:5,className:"m-2",children:["▣ ",t("currentSelection")]}),(0,l.jsx)(N,{selectedTags:h,onTagClick:v})]}),(0,l.jsx)(s.Z,{xs:24,lg:6,children:(0,l.jsx)(A,{selectedTags:h,setSelectedTags:y,tagsData:a})})]})]})}},8472:function(e,t,a){"use strict";a.d(t,{DataProvider:function(){return n},R:function(){return r}});var l=a(7437);let r=(0,a(2265).createContext)(null);function n(e){let{children:t,data:a}=e;return(0,l.jsx)(r.Provider,{value:a,children:t})}}},function(e){e.O(0,[778,763,965,971,117,744],function(){return e(e.s=6506)}),_N_E=e.O()}]);